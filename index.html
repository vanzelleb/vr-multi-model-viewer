<html>

<head>
  <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
  <script>
    AFRAME.registerComponent("thumbstick-logging", {
      init: function () {
        this.el.addEventListener("thumbstickmoved", this.logThumbstick);
      },
      logThumbstick: function (evt) {
        if (evt.detail.y > 0.95) {
          document.querySelector("#rig").object3D.position.z += 0.1;
        }
        if (evt.detail.y < -0.95) {
          document.querySelector("#rig").object3D.position.z -= 0.1;
        }
        if (evt.detail.x < -0.95) {
          document.querySelector("#rig").object3D.position.x -= 0.1;
        }
        if (evt.detail.x > 0.95) {
          document.querySelector("#rig").object3D.position.x += 0.1;
        }
      },
    });
  </script>
</head>

<body>
  <a-scene>
    <a-entity id="rig" position="0 0 0">
      <a-entity id="camera" camera look-controls wasd-controls></a-entity>
      <a-entity grabbable gltf-model="#piece" position="0 -0.5 0" rotation="0 0 0"></a-entity>
      <a-entity id="leftHand" hand-tracking-controls="hand: left;"></a-entity>
      <a-entity id="rightHand" hand-tracking-controls="hand: right;"></a-entity>
      <a-entity meta-touch-controls="hand: left"></a-entity>
      <a-entity meta-touch-controls="hand: right" thumbstick-logging></a-entity>
      <a-entity id="leftHandGrab" hand-tracking-grab-controls="hand: left;"></a-entity>
      <a-entity id="rightHandGrab" hand-tracking-grab-controls="hand: right;"></a-entity>
    </a-entity>
    <a-assets>
      <a-asset-item id="woman" src="assets/woman.glb"></a-asset-item>
      <a-asset-item id="piece" src="assets/piece.glb"></a-asset-item>
    </a-assets>
    <a-entity grabbable gltf-model="#woman" position="0 0 -3" rotation="0 -90 0"></a-entity>
    <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
    <a-sky color="#ECECEC"></a-sky>
  </a-scene>
</body>

</html>